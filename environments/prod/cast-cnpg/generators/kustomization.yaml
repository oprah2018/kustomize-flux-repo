
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: cast-cnpg

resources:
  - ../../../../bases/common/generators

# Override only whatâ€™s unique to prod-cnpg
configMapGenerator:
  - name: app-config
    behavior: merge
    literals:
      - APP_ENV=prod-cnpg
      - DB_HOST=castdb
      - DB_PORT=5432
      - MESSAGE=Hello from cast-cnpg backend

secretGenerator:
  - name: db-secret
    behavior: merge #behavior: merge tells Kustomize to start from the base, then replace or add keys with these new values.
    literals:
      - username=produser
      - password=ProdSecret123
